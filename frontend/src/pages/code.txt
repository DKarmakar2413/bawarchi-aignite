 const processData = async () => {
      setLoading(true)
      try {
        console.log("游때游때游때游때游때游때游때游때游때游때游때游때游때")

        // Priority 1: Recipe details (full text)
        if (recipeText) {
          console.log("Processing recipe details")
          let recipeName
          if (recipeText.includes("RecipeName:")) {
            console.log("RecipeName found in recipeText")

            recipeName = recipeText.split("RecipeName:")[1].split("&&&")[0]
          } else {
            recipeName = recipeText
          }
          const data = await fetchRecipe("user_prompt", recipeText)
          console.log("Recipe data:", data)
          if (data) {
            const firstStepKey = Object.keys(data)[0]
            if (firstStepKey && data[firstStepKey].name) {
              setRecipeName(data[firstStepKey].name)
            }
          }

          console.log("游때游때游때游때游때游때游때游때游때游때游때游때游때")

          toast.success("Recipe processed successfully!")
        }
        // Priority 2: Image
        else if (imageUrl) {
          console.log("Processing image")
          setRecipeName("Untitled Recipe")
          const data = await fetchRecipe("image_url", imageUrl)
          console.log("Recipe data:", data)

          setRecipe(data)
          toast.success("Recipe extracted from image successfully!")
        }
      } catch (error) {
        const errorMessage =
          error instanceof Error
            ? error.message
            : "An unexpected error occurred"
        console.error("Error processing recipe data:", error)
        setError(errorMessage)
        toast.error(`Failed to process recipe: ${errorMessage}`)
      } finally {
        setLoading(false)
      }
    }